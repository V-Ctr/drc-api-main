apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: DRC Tech Ecosistema App
  description: Backstage controla a ordem na infraestrutura e permite as equipes de desenvolvimento enviem c√≥digos de alta qualidade rapidamente, sem comprometer a autonomia.
  links:
    - title: Website
      url: http://backstage.io
    - title: Documentation
      url: https://backstage.io/docs
    - title: Storybook
      url: https://backstage.io/storybook
    - title: Discord Chat
      url: https://discord.com/invite/EBHEGzX
  annotations:
    github.com/project-slug: backstage/backstage
    backstage.io/techdocs-ref: dir:.
    lighthouse.com/website-url: https://backstage.io
spec:
  type: library
  owner: CNCF
  lifecycle: experimental
  system: drc-desenvolvedores
    dependsOn: ['resource:mysql-db']
    apiConsumedBy: ['component:www-drc']
    definition: |
      openapi: 3.0.1
      info:
        title: drc_api
        version: v1
      paths:
        /api/Health:
          get:
            tags:
              - Health
            responses:
              '200':
                description: Success
        /api/Hero:
          get:
            tags:
              - Hero
            responses:
              '200':
                description: Success
                content:
                  text/plain:
                    schema:
                      type: array
                      items:
                        $ref: '#/components/schemas/drc.tech'
                  application/json:
                    schema:
                      type: array
                      items:
                        $ref: '#/components/schemas/drc.tech'
                  text/json:
                    schema:
                      type: array
                      items:
                        $ref: '#/components/schemas/drc.tech'
          post:
            tags:
              - desenvolvedores
            requestBody:
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/drc.tech'
                text/json:
                  schema:
                    $ref: '#/components/schemas/drc.tech'
                application/*+json:
                  schema:
                    $ref: '#/components/schemas/drc.tech'
            responses:
              '200':
                description: Success
                content:
                  text/plain:
                    schema:
                      $ref: '#/components/schemas/drc.tech'
                  application/json:
                    schema:
                      $ref: '#/components/schemas/drc.tech'
                  text/json:
                    schema:
                      $ref: '#/components/schemas/drc.tech'
        /api/Hero/{id}:
          get:
            tags:
              - Desenvolvedores
            parameters:
              - name: id
                in: path
                required: true
                schema:
                  type: integer
                  format: int32
            responses:
              '200':
                description: Success
                content:
                  text/plain:
                    schema:
                      $ref: '#/components/schemas/drc.tech'
                  application/json:
                    schema:
                      $ref: '#/components/schemas/drc.tech'
                  text/json:
                    schema:
                      $ref: '#/components/schemas/drc.tech'
          put:
            tags:
              - Desenvolvedores
            parameters:
              - name: id
                in: path
                required: true
                schema:
                  type: integer
                  format: int32
            requestBody:
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/drc.tech'
                text/json:
                  schema:
                    $ref: '#/components/schemas/drc.tech'
                application/*+json:
                  schema:
                    $ref: '#/components/schemas/drc.tech'
            responses:
              '200':
                description: Success
          delete:
            tags:
              - Hero
            parameters:
              - name: id
                in: path
                required: true
                schema:
                  type: integer
                  format: int32
            responses:
              '200':
                description: Success
      components:
        schemas:
          Hero:
            required:
              - alterEgo
              - name
            type: object
            properties:
              id:
                type: integer
                format: int32
              name:
                minLength: 1
                type: string
              alterEgo:
                minLength: 1
                type: string
              description:
                type: string
                nullable: true
            additionalProperties: false
